<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>FslInstallation/Windows</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="fsl/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="fsl/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="fsl/css/print.css">
<style type="text/css">
ul.pagetitle{
  display: inline;
  margin: 0;
  padding: 0;
  font-size: 1.5em;
}
li.pagetitle{
  display: inline;
  margin: 0;
}
td.noborder {
  border: 0;
}
</style>
</head>
<body>
<table>
<tr>
<td class="noborder">
<img src="logo.png">
</td>
<td class="noborder">
<ul class="pagetitle">
<li class="pagetitle"><a class="backlink">FslInstallation/Windows</a>
</ul>
<br><br>
[<a href="FSL.html">FSL</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]&nbsp;
</td>
</tr>
</table>
<hr>
<div id="page">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="FslToolContents">
<h1>Contents</h1>
<ol><li><a href="./FslInstallation.html">Introduction</a></li><li><a href="./FslInstallation(2f)MacOsX.html">Mac Os X</a></li><li><a href="./FslInstallation(2f)Linux.html">Linux</a></li><li>Windows<div class="contentslist"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Introduction">Introduction</a></li><li>
<a href="#System_Requirements">System Requirements</a></li><li>
<a href="#Dependencies">Dependencies</a></li><li>
<a href="#The_FSL_Virtual_Machine">The FSL Virtual Machine</a><ol><li>
<a href="#Verifying_the_download">Verifying the download</a><ol><li>
<a href="#Using_MD5summer">Using MD5summer</a></li></ol></li></ol></li><li>
<a href="#FSLvm_Installation">FSLvm Installation</a></li><li>
<a href="#VMware_Player_Usage_and_Configuration">VMware Player Usage and Configuration</a><ol><li>
<a href="#Initial_setup">Initial setup</a></li><li>
<a href="#Installing_FSL">Installing FSL</a></li></ol></li><li>
<a href="#Accessing_your_Windows_files">Accessing your Windows files</a></li><li>
<a href="#Network_access">Network access</a></li><li>
<a href="#Shutting_down">Shutting down</a></li><li>
<a href="#Resetting_a_hung_FSLvm">Resetting a hung FSLvm</a></li><li>
<a href="#Updating_the_FSLvm">Updating the FSLvm</a></li><li>
<a href="#Increasing_the_amount_of_memory_available_to_FSLvm">Increasing the amount of memory available to FSLvm</a></li></ol></div></div></li><li><a href="./FslInstallation(2f)SourceCode.html">Source Code</a></li><li><a href="./FslInstallation(2f)ShellSetup.html">Shell Setup</a></li><li><a href="./FslInstallation(2f)Faq.html">FAQ</a></li></ol></div> <span class="anchor" id="line-2"></span>
<h1 id="Introduction">Introduction</h1>
<span class="anchor" id="line-3"></span><p class="line874">We recommend using a UNIX-based computer (such as a Linux PC, Apple or Sun) for carrying out data analysis. However, if this is not available then you can use FSL on a Microsoft Windows computer by running the Linux version of FSL inside a "virtual Linux machine" (a VM), using a freely available program called 'VMware Player' by VMware. This is fairly easy to setup, and we provide basic installation instructions below, but please note that we cannot in general offer further help for the setup and maintenance of the virtual machine itself - we just offer support on the running of FSL within it. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867">
<h1 id="System_Requirements">System Requirements</h1>
<span class="anchor" id="line-6"></span><ul><li>Windows XP, Vista or 7 (32bit or 64bit) <span class="anchor" id="line-7"></span></li><li>Dual core CPU/ multiple CPU recommended <span class="anchor" id="line-8"></span></li><li>2GB RAM minimum <span class="anchor" id="line-9"></span></li><li>Minimum 10GB, up to 30GB, of free disc space (VM image expands as necessary up to the 30GB limit) <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></li></ul><p class="line867">
<h1 id="Dependencies">Dependencies</h1>
<span class="anchor" id="line-12"></span><p class="line862">The software package <tt class="backtick">VMware&nbsp;Player</tt> emulates the core hardware of an x86 machine allowing you to run a second operating system 'in a window'. Virtualisation technology allows the programs running in this VM to achieve speeds approaching that of programs running natively in Windows, as the CPU instruction set doesn't need to be emulated. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line874">The FSL VM (FSLvm) is configured with 1GB of RAM, a virtual hard disk that can grow to 30GB in size, shared (NAT) networking (ie it shares the network connection of your local computer), virtual sound hardware and virtual CD-ROM and floppy drives. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line862">Before you can run the FSL virtual machine, you need to install a Virtual Machine player package. We support the use of version 3.x of VMware's free <a class="http" href="http://www.vmware.com/products/player/">VMware Player</a> software. Download the software from VMware's site and install this package by following VMware's instructions. Once it is installed and your computer has been restarted, launch VMware Player to complete initial setup. <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line867">
<h1 id="The_FSL_Virtual_Machine">The FSL Virtual Machine</h1>
<span class="anchor" id="line-19"></span><p class="line874">Once VMware Player is installed, download FSLvm from below. The FSLvm is compatible with Windows XP and Windows Vista/7 and is available in two flavours, a 32 bit version for the majority of Windows installations and a 64 bit version for 64 bit Windows Vista/7. <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line862">To find out which version you require see this <a class="http" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;827218">Microsoft document</a> <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><div><table class="centred" style="text-align: center;"><tbody><tr>  <td style="border: none;"><p class="line891"><a class="http" href="http://www.fmrib.ox.ac.uk/fsldownloads/FSL_vm5_32.zip">FSLvm [32bit</a>]</td>
  <td style="border: none;"><p class="line891"><a class="http" href="http://www.fmrib.ox.ac.uk/fsldownloads/FSL_vm5_64.zip">FSLvm [64bit</a>]</td>
</tr>
</tbody></table></div><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line867">
<h2 id="Verifying_the_download">Verifying the download</h2>
<span class="anchor" id="line-26"></span><p class="line862">To confirm that the FSLvm package has downloaded correctly, download the appropriate MD5 hash file below to the same folder you downloaded the FSLvm to and use <a class="http" href="http://www.md5summer.org/">MD5summer</a> to check the files. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><div><table class="centred" style="text-align: center;"><tbody><tr>  <td style="border: none;"><p class="line891"><a class="http" href="http://www.fmrib.ox.ac.uk/fsldownloads/md5sums/FSL_vm5_32.zip.md5">FSLvm [32bit] MD5 sum</a></td>
  <td style="border: none;"><p class="line891"><a class="http" href="http://www.fmrib.ox.ac.uk/fsldownloads/md5sums/FSL_vm5_64.zip.md5">FSLvm [64bit] MD5 sum</a></td>
</tr>
</tbody></table></div><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line867">
<h3 id="Using_MD5summer">Using MD5summer</h3>
<span class="anchor" id="line-31"></span><p class="line862">Run md5summer once as an administrator and choose to associate the <tt class="backtick">.md5</tt> extension with md5summer. Now double click on the downloaded md5 sum file and wait while md5summer checks the file, a green circle to the left of the file name confirms the file's integrity. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line867">
<h1 id="FSLvm_Installation">FSLvm Installation</h1>
<span class="anchor" id="line-34"></span><p class="line867"><img align="right" alt="Extract all files" class="attachment" src="attachments/FslInstallation(2f)Windows/extract_all_files_vista.jpg" title="Extract all files" /> <span class="anchor" id="line-35"></span>FSLvm is a fairly minimal install of the CentOS 5 Linux distribution and is provided as a zip file. To install, decompress the downloaded FSLvm by double clicking on the zip file and clicking on <tt class="backtick">Extract&nbsp;all&nbsp;files</tt> in the resulting Windows Explorer window. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">The Windows zip expansion wizard will launch. Extract the files to an appropriate location; VMware Player creates a folder in your <tt class="backtick">Documents</tt> folder called <tt class="backtick">Virtual&nbsp;Machines</tt> (<tt class="backtick">My&nbsp;Virtual&nbsp;Machines</tt> under Windows XP) when run for the first time, which is intended for this purpose. Under Windows XP, be sure to create a folder (eg <tt class="backtick">fsl_vm5_32</tt> or <tt class="backtick">fsl_vm5_64</tt> as appropriate) to contain the files if you have more than one VM as the Windows XP zip expansion wizard does not preserve the top level folder of the zip archive. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867">
<h1 id="VMware_Player_Usage_and_Configuration">VMware Player Usage and Configuration</h1>
<span class="anchor" id="line-40"></span><p class="line862">Detailed VMware Player application usage instructions are available from the VMware Player menu's <tt class="backtick">Help</tt> entry. <span class="anchor" id="line-41"></span>
<h2 id="Initial_setup">Initial setup</h2>
<span class="anchor" id="line-42"></span><p class="line867"><img align="right" alt="VMX file icon" class="attachment" src="attachments/FslInstallation(2f)Windows/vmx_file.jpg" title="VMX file icon" />Now that the FSLvm is installed, launch VMware Player from the Start menu and click on the <tt class="backtick">Open</tt> icon. In the <tt class="backtick">Open</tt> dialogue, browse to the uncompressed FSLvm folder, <tt class="backtick">fsl_vm5_32</tt> or <tt class="backtick">fsl_vm5_64</tt> and double click on the <tt class="backtick">fsl_vm5_32</tt> or <tt class="backtick">fsl_vm5_64</tt> file within. <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line862">Subsequent to the initial launch, the FSLvm will appear in the list of <tt class="backtick">Recent&nbsp;Virtual&nbsp;Machines</tt> allowing quick launching. <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line862">The first time FSLvm is started VMware Player will ask if the VM was moved or copied, choose <tt class="backtick">I&nbsp;copied&nbsp;it</tt> (this sets up the network correctly). <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line874">Depending on your Windows computer's hardware, you may also receive additional messages like... <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><pre><span class="anchor" id="line-1"></span>Cannot connect virtual device floppy0. No corresponding device is available on the host. Would you like an attempt to be made to connect the virtual device every time you power on the virtual machine? </pre><span class="anchor" id="line-52"></span><p class="line862">This means that VMware Player cannot locate a floppy disc drive on your computer. Select <tt class="backtick">No</tt> and you will not be informed of this again. If, instead, it warns you about device <tt class="backtick">IDE&nbsp;1:0</tt> then it is unable to find a CD ROM drive. Again choose <tt class="backtick">No</tt> to dismiss this warning permanently. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line862">The FSLvm will now boot, a process that will take several minutes, don't worry about the <tt class="backtick">Failed</tt> messages that appear next to the following items (this is normal behaviour): <span class="anchor" id="line-55"></span><ul><li>Mounting local filesystems <span class="anchor" id="line-56"></span></li><li>Mounting HGFS shares <span class="anchor" id="line-57"></span></li><li>Mounting other filesystems <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span></li></ul><p class="line874">Once the boot process has completed, you will be presented with a graphical login screen (initially a textual login screen will appear - wait a little longer for the desktop environment to start). Log in as the user: <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><pre><span class="anchor" id="line-1-1"></span>fsl</pre><span class="anchor" id="line-63"></span><p class="line874">with password <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><pre><span class="anchor" id="line-1-2"></span>fsluser</pre><span class="anchor" id="line-67"></span><p class="line874">After a few moments you will be presented with the Linux desktop environment. <span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line867"><img align="right" alt="Linux keyboard layout configuration" class="attachment" src="attachments/FslInstallation(2f)Windows/linux_keyboard.png" title="Linux keyboard layout configuration" />Before continuing, you should take a moment to verify that you have the correct keyboard layout. The FSLvm is configured with a British keyboard; users with a different keyboard layout can change by visiting <tt class="backtick">System</tt> &gt; <tt class="backtick">Preferences</tt> &gt; <tt class="backtick">Keyboard</tt> from the menu at the top of the screen. This will open the keyboard configuration window. Switch to the <tt class="backtick">Layouts</tt> tab and click the large <tt class="backtick">+</tt> symbol to add a keyboard layout. <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line862">In the windows that appears choose an appropriate layout from the pane on the left (you can drag the divider to see the name of the layout better). Some layouts have alternatives which can be viewed by clicking on the disclosure triangle. However, in most cases the top-level layout will be appropriate. Then select the check box next to your new keyboard layout to make this the default. Finally, deselect <tt class="backtick">Separate&nbsp;group&nbsp;for&nbsp;each&nbsp;window</tt>. <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><p class="line874">Once you have the correct keyboard layout, the first task you should undertake is to reset a few passwords to more secure values. <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line862">Right click on the desktop and choose <tt class="backtick">Open&nbsp;Terminal</tt> from the menu. In the terminal window that opens, type the following: <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><pre><span class="anchor" id="line-1-3"></span>passwd</pre><span class="anchor" id="line-79"></span><p class="line874">When prompted, enter the current password <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><pre><span class="anchor" id="line-1-4"></span>fsluser</pre><span class="anchor" id="line-83"></span><p class="line862">and then enter a new password, twice - choose a secure password (see this <a class="http" href="http://en.wikipedia.org/wiki/Password_strength">Wikipedia</a> entry for advice on password selection). <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><p class="line862">Next you will need to change the password of the <tt class="backtick">root</tt> user in the FSLvm, do this by issuing the following commands in a terminal window: <span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><pre><span class="anchor" id="line-1-5"></span>/bin/su -</pre><span class="anchor" id="line-89"></span><p class="line874">Enter the current root password, <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><pre><span class="anchor" id="line-1-6"></span>fslroot</pre><span class="anchor" id="line-93"></span><p class="line874">You are now the system Super User. To change this user's password type: <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><pre><span class="anchor" id="line-1-7"></span>passwd</pre><span class="anchor" id="line-97"></span><p class="line874">Again, when prompted, enter a new password twice - choose a different secure password. <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><div class="important"><span class="anchor" id="line-1-1"></span><p class="line867"><strong>Important</strong> <span class="anchor" id="line-2-1"></span><span class="anchor" id="line-3-1"></span><p class="line874">Do not forget these passwords, as you will lose access to FSLvm and all the files stored within it without them. </div><span class="anchor" id="line-103"></span><p class="line874">Now type: <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><pre><span class="anchor" id="line-1-8"></span>exit</pre><span class="anchor" id="line-107"></span><p class="line874">to return to the normal user account. <span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><p class="line867">
<h2 id="Installing_FSL">Installing FSL</h2>
<span class="anchor" id="line-110"></span><p class="line862">You can now install FSL, FSLvm requires the <a class="http" href="http://www.fmrib.ox.ac.uk/fsl/fsldownloads">Linux CentOS5 32bit or CentOS5 64bit</a> version depending on whether you are running the 32 or 64 bit VM. See the <a href="./FslInstallation(2f)Linux.html">Linux installation instructions</a> to continue with the installation of FSL. Note that as the FSLvm comes preconfigured for internet access, so the easiest way to continue the install is to follow these instructions with the Firefox web-browser inside the FSLvm. <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><p class="line867">
<h1 id="Accessing_your_Windows_files">Accessing your Windows files</h1>
<span class="anchor" id="line-113"></span><p class="line874">There are four options for transferring/accessing files stored on your Windows disk into the FSLvm, presented in order of ease of use: <span class="anchor" id="line-114"></span><ol type="1"><li>Drag-and-drop <span class="anchor" id="line-115"></span><ul><li style="list-style-type:none">The VMware Player application supports the dragging and dropping of files from Windows into the FSLvm. To transfer files select them in the Windows Explorer and then drag them into your FSLvm window and drop in the folder you would like it to reside in (or onto the Desktop). <span class="anchor" id="line-116"></span></li></ul></li><li>VMware Player file sharing <span class="anchor" id="line-117"></span><p class="line891"><img align="left" alt="Setting up file sharing" class="attachment" src="attachments/FslInstallation(2f)Windows/sharingpane.jpg" title="Setting up file sharing" />File sharing has been configured in the FSLvm to share the entire <tt class="backtick">C:</tt> drive to the FSLvm. However, due to the potential security risk this poses, VMware Player disables this functionality by default. <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line862">Before changing the sharing settings first create a folder to share. Put this folder somewhere appropriate in your home folder. To enable sharing and to point it to this new folder, start up the FSLvm and visit the VMware Player menu and open the <tt class="backtick">Shared&nbsp;Folders...</tt> dialogue. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line862">To enable sharing permanently select the <tt class="backtick">Always&nbsp;Enabled</tt> radio button. Now select the pre-configured share and click on the <tt class="backtick">Properties</tt> button. This will open another dialogue box allowing you to change the name the share will appear as in Linux and to change the Windows file path for the shared folder. Click on the <tt class="backtick">Browse</tt> button and locate the folder you created earlier. <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line891"><img align="right" alt="Browse to the folder to share" class="attachment" src="attachments/FslInstallation(2f)Windows/browseforfoldertoshare.jpg" title="Browse to the folder to share" />Click on the <tt class="backtick">OK</tt> buttons to dismiss the dialogues. You should now restart your FSLvm (only necessary the first time you enable sharing) by choosing <tt class="backtick">System</tt> &gt; <tt class="backtick">Shutdown</tt> from the top menu bar in the Linux desktop and clicking on the <tt class="backtick">Reboot</tt> button when prompted on what to do. <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line862">You may now access files held within this shared folder through the path <tt class="backtick">/mnt/hgfs</tt>. To navigate there through the graphical file browser, double click on <tt class="backtick">Computer</tt> on the desktop and then, in the resulting window, double click on <tt class="backtick">Filesystem</tt>. This will open a folder showing the folder <tt class="backtick">/</tt> from where you can navigate to <tt class="backtick">mnt</tt> and then <tt class="backtick">hgfs</tt>. Within here will be the shared folder, named as specified in the <tt class="backtick">Shared&nbsp;Folders</tt> dialogue. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><div class="warning"><span class="anchor" id="line-1-2"></span><p class="line867"><strong>Warning</strong> <span class="anchor" id="line-2-2"></span><span class="anchor" id="line-3-2"></span><p class="line874">Do not attempt to modify the same files in this shared folder in both operating systems at once - bad things will happen! </div><span class="anchor" id="line-131"></span></li><li>Using external media: <span class="anchor" id="line-132"></span>If you connect a USB storage device whilst VMware Player is running and has the input focus it will allow Linux to see the storage device. In most cases it will automatically mount and an icon will appear on the Linux desktop. Linux has read-only support for NTFS, so you will need to create an ext3 (Linux support only) disk partition or use FAT32 format which can be read on both OSes. <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><div class="note"><span class="anchor" id="line-1-3"></span><p class="line867"><strong>Note</strong> <span class="anchor" id="line-2-3"></span><span class="anchor" id="line-3-3"></span><p class="line874">FAT32 is not supported for storing files that you are actively accessing with the FSL tools. </div><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span></li></ol><p class="line867">
<h1 id="Network_access">Network access</h1>
<span class="anchor" id="line-140"></span><p class="line862">The FSLvm is configured to share your network connection, and so has full access to any networks that your Windows computer can see. You can also access your FSLvm from Windows over this internal network with tools like <a class="http" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">puTTY</a> (a SSH terminal client). <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><p class="line874">To identify the IP address of the FSLvm, in a terminal in the FSLvm type: <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-1-4"></span><div class="highlight bash"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-a6c087a391c63aa9427fc226c92c9da73fc7b7b5" lang="en"><span class="line"><span class="anchor" id="line-1-5"></span>/sbin/ifconfig | grep -C 1 <span class="String">'eth0'</span></span>
</pre></div></div><span class="anchor" id="line-146"></span><p class="line862">You are looking for the dotted quartet printed after <tt class="backtick">inet&nbsp;addr:</tt>. <span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><p class="line874">Connection to the host is now possible using this address as the hostname to connect to within puTTY. <span class="anchor" id="line-149"></span>
<h1 id="Shutting_down">Shutting down</h1>
<span class="anchor" id="line-150"></span><p class="line862">Under normal circumstances you should just close the FSLvm window, this will suspend the FSLvm to disk allowing quick restoration of your session at a later date. However, sometimes it may be necessary to shutdown the FSLvm entirely (say if you are moving it to a new computer). To do this, choose <tt class="backtick">System</tt> &gt; <tt class="backtick">Shutdown</tt> from the Linux desktop menu. Once Linux has shut down VMware Player will exit. <span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line867">
<h1 id="Resetting_a_hung_FSLvm">Resetting a hung FSLvm</h1>
<span class="anchor" id="line-153"></span><p class="line862">If the FSLvm appears to have frozen, you can force a reset by selecting <tt class="backtick">Reset</tt> from the <tt class="backtick">Troubleshooting</tt> menu. <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line867">
<h1 id="Updating_the_FSLvm">Updating the FSLvm</h1>
<span class="anchor" id="line-156"></span><p class="line874">From time to time the Linux vendor will issue security updates which in general should be installed to keep the FSLvm secure. <span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><p class="line874">When updates are available a message window will appear in the top right of the Linux desktop advising you of what updated packages are available. Clicking on the icon associated with this message will open the package update utility which can be used to update the system. You will be asked for the root password that you set when installing the FSLvm before being allowed to install these updates. <span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><p class="line867"><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><div class="warning"><span class="anchor" id="line-1-6"></span><p class="line867"><strong>Warning about kernel updates</strong> <span class="anchor" id="line-2-4"></span><span class="anchor" id="line-3-4"></span><p class="line862">Any updates listed as <tt class="backtick">kernel</tt> updates change the core of the operating system, and will result in the accelerated drivers installed in the FSLvm to cease to function. To restore this functionality it is necessary to update the vmware-tools, as this driver package is termed. To do this, log in as the root user and open a terminal window. Within this window type: <span class="anchor" id="line-4-1"></span><span class="anchor" id="line-5-1"></span></pre></div><span class="anchor" id="line-167"></span><p class="line874">You will now be asked a series of questions. Hit return to accept the default to all of the questions. Once the installation is complete you should reboot the FSLvm to allow the changes to take effect. <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><p class="line867">
<h1 id="Increasing_the_amount_of_memory_available_to_FSLvm">Increasing the amount of memory available to FSLvm</h1>
<span class="anchor" id="line-170"></span><p class="line862">{{attachment:winxp_mem.png|Right click on My Computer and select Properties... Look here for your memory total|align="right"]]The default allocation of 1GB is only suitable for light use of the FSL software suite. For more demanding analyses you will need to increase the amount of available memory allocated to the virtual machine. Before you change this setting you should find out how much memory your computer has. Under Windows XP, open the <tt class="backtick">Start</tt> menu and right click on <tt class="backtick">My&nbsp;Computer</tt>. From the pop-up menu choose <tt class="backtick">Properties</tt> and look in the <tt class="backtick">Computer&nbsp;information</tt> area, note this value. <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><p class="line862">Under Vista/7, follow the <a class="http" href="http://windowshelp.microsoft.com/Windows/en-US/help/479a7531-57ad-43c1-91b1-3f46a0e1761e1033.mspx">instructions available on Microsoft's support site</a> to find out your total memory capacity. <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><p class="line874">With this in mind, you can calculate the amount of memory you can safely allocate to the FSLvm by following the advice below. <span class="anchor" id="line-175"></span><div><table class="'centred'"><tbody><tr>  <td><p class="line862">Windows XP</td>
  <td><p class="line862">Take 1024MB off the value reported</td>
</tr>
<tr>  <td><span class="anchor" id="line-176"></span><p class="line862">Windows Vista</td>
  <td><p class="line862">Take 2048MB off the value reported</td>
</tr>
</tbody></table></div><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><p class="line874">By way of example if you have a Windows 7 computer with 4GB of RAM you can safely increase the FSLvm memory allocation to 2GB. <span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><p class="line862">To change the memory allocation of FSLvm, start the VM and then from the VMware Player menu, choose <tt class="backtick">Change&nbsp;Memory&nbsp;Allocation...</tt> from the <tt class="backtick">Troubleshoot</tt> sub-menu. In the dialogue that opens type the value you have calculated as being optimal into the memory total box. As indicated in this window once you have clicked <tt class="backtick">OK</tt> you will need to restart the VM. <span class="anchor" id="line-181"></span><img alt="Opening the Change Memory Allocation dialoge Changing the memory allocation" class="attachment" src="attachments/FslInstallation(2f)Windows/vmplayer_tsmenu.png" title="Opening the Change Memory Allocation dialoge Changing the memory allocation" /> <span class="anchor" id="line-182"></span><img alt="Increasing the amount of disk space available to FSLvm" class="attachment" src="attachments/FslInstallation(2f)Windows/changemem.png" title="Increasing the amount of disk space available to FSLvm" /> <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><p class="line874">Increasing the size of the virtual disk is not possible with the free VMware Player application (it can be done with the commercially available VMware Workstation), so if you require additional disk space we would recommend adding an additional USB hard drive to your system and dedicating it's use to Linux. For correct FSL operation, the drive should be formatted with the Linux ext3 filesystem. Follow these steps to carry out this formatting process. <span class="anchor" id="line-185"></span><ol type="1"><li>Start with the drive disconnected <span class="anchor" id="line-186"></span></li><li>Click inside the running VM window so that you are controlling Linux <span class="anchor" id="line-187"></span></li><li>Connect the USB drive <span class="anchor" id="line-188"></span></li><li><p class="line862">If the drive mounts and appears on your Linux desktop, right click and choose to un-mount it. Most probably you will have a drive formatted as NTFS, so you may see this warning that Linux Cannot mount volume - Click <tt class="backtick">OK</tt>. <span class="anchor" id="line-189"></span>Unfortunately, Centos won't let you format the device at this point, so you need to format via the command line. <span class="anchor" id="line-190"></span></li><li>Open a terminal and become the root user: <span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><pre><span class="anchor" id="line-1-9"></span>su -</pre><span class="anchor" id="line-194"></span>(enter the root password when prompted) <span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><div class="warning"><span class="anchor" id="line-1-7"></span><p class="line867"><strong>Potential for data loss</strong> <span class="anchor" id="line-2-5"></span><span class="anchor" id="line-3-5"></span><p class="line874">The next step will destroy everything on the drive you specify, so make sure you are certain that this is the correct disk. </div><span class="anchor" id="line-200"></span></li><li>Run the partitioning tool: <span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><pre><span class="anchor" id="line-1-10"></span>parted</pre><span class="anchor" id="line-204"></span>You are now in an interactive partition editor. <span class="anchor" id="line-205"></span></li><li>Find your disk: <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><pre><span class="anchor" id="line-1-11"></span>print all</pre><span class="anchor" id="line-209"></span><p class="line862">Locate your external drive (look for the <tt class="backtick">Model:</tt> entry that matches your disk) and note down the <tt class="backtick">Disk</tt> field (<tt class="backtick">/dev/sdX</tt>) (this will probably be <tt class="backtick">/dev/sdb</tt>) and the numbers of any existing partition number(s) <span class="anchor" id="line-210"></span></li><li><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><pre><span class="anchor" id="line-1-12"></span>select /dev/sdX</pre><span class="anchor" id="line-214"></span>(replace X with the letter you determined above) <span class="anchor" id="line-215"></span></li><li><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><pre><span class="anchor" id="line-1-13"></span>rm Y</pre><span class="anchor" id="line-219"></span>where Y is the partition number you noted. Repeat until you have deleted all the partitions on the disk <span class="anchor" id="line-220"></span></li><li><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><pre><span class="anchor" id="line-1-14"></span>print</pre><span class="anchor" id="line-224"></span>to confirm that they are all gone <span class="anchor" id="line-225"></span></li><li><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><pre><span class="anchor" id="line-1-15"></span>mkpart primary 1 ZGB</pre><span class="anchor" id="line-229"></span>where Z is the size of the disk in question (eg 250GB), hit return to any prompts <span class="anchor" id="line-230"></span></li><li><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><pre><span class="anchor" id="line-1-16"></span>quit</pre><span class="anchor" id="line-234"></span></li><li>Make a file system on the partition <span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><pre><span class="anchor" id="line-1-17"></span>mkfs -t ext3 /dev/sdX</pre><span class="anchor" id="line-238"></span>(X as above) <span class="anchor" id="line-239"></span></li><li><p class="line862">Disconnect the drive and reconnect it and it should automatically mount. Open <tt class="backtick">Computer</tt> on your desktop and you should see the drive, and it can be accessed at <tt class="backtick">/media/disk</tt> (or some variant on that). <span class="anchor" id="line-240"></span></li></ol><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2012-09-05 11:30
</body>
</html>
